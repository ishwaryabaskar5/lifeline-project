<mat-card>
    <form (ngSubmit)="register()">
        <div [formGroup]="registrationForm">
            <h5>Personal Details</h5>
            <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px" fxLayoutGap.gt-md="50px"
                fxLayoutAlign="space-around center">
                <mat-form-field appearance="legacy">
                    <mat-label>First Name</mat-label>
                    <input matInput formControlName="firstName" maxlength="40">
                    <mat-error *ngIf="this.registrationForm.controls['firstName'].invalid">First name is required
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="legacy">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName="lastName" maxlength="40">
                    <mat-error *ngIf="this.registrationForm.controls['lastName'].invalid">Last name is required
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px" fxLayoutGap.gt-md="50px"
                fxLayoutAlign="space-around center">
                <mat-form-field appearance="legacy">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" maxlength="40">
                    <mat-error *ngIf="this.registrationForm.controls['email'].hasError('required')">Email is required
                    </mat-error>
                    <mat-error *ngIf="this.registrationForm.controls['email'].hasError('pattern')">Please enter valid
                        email</mat-error>

                </mat-form-field>
                <mat-form-field appearance="legacy">
                    <mat-label>Phone Number</mat-label>
                    <input matInput formControlName="phoneNumber" maxlength="10">
                    <mat-error *ngIf="this.registrationForm.controls['phoneNumber'].hasError('required')">Phone number
                        is required</mat-error>
                    <mat-error *ngIf="this.registrationForm.controls['phoneNumber'].hasError('pattern')">Please enter
                        valid phone number</mat-error>
                </mat-form-field>
            </div>

            <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px" fxLayoutGap.gt-md="50px"
                fxLayoutAlign="space-around center">
                <mat-form-field appearance="legacy">
                    <mat-label>Password</mat-label>
                    <input matInput formControlName="password" maxlength="40">
                    <mat-error *ngIf="this.registrationForm.controls['password'].hasError('required')">Password is
                        required</mat-error>
                    <mat-error *ngIf="this.registrationForm.controls['password'].hasError('pattern')">Password should
                        contain atleast a uppercase, a lowercase, a digit and a symbol. It should between 8-16
                        characters</mat-error>
                </mat-form-field>
                <mat-form-field appearance="legacy">
                    <mat-label>Confirm Password</mat-label>
                    <input matInput formControlName="confirmPassword" maxlength="40">
                    <mat-error *ngIf="this.registrationForm.hasError('notSame')">Confirm password should match with
                        password</mat-error>
                </mat-form-field>
            </div>

            <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px" fxLayoutGap.gt-md="50px"
                fxLayoutAlign="space-around center">
                <mat-form-field appearance="legacy">
                    <mat-label>Aadhar</mat-label>
                    <input matInput formControlName="aadhar" maxlength="12">
                    <mat-error *ngIf="this.registrationForm.controls['aadhar'].hasError('required')">Aadhar is required
                    </mat-error>
                    <mat-error *ngIf="this.registrationForm.controls['aadhar'].hasError('pattern')">Please enter valid
                        Aadhar number</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput [matDatepicker]="picker" [max]="maxDate" placeholder="Date of Birth"
                        formControlName="dob" readonly>
                    <mat-error *ngIf="this.registrationForm.controls['dob'].hasError('required')">DOB is required
                    </mat-error>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>

            <div class="gender-div"></div>
            <mat-label>Gender</mat-label>
            <mat-radio-group formControlName="gender">
                <mat-radio-button value="male" checked>Male</mat-radio-button>
                <mat-radio-button value="female">Female</mat-radio-button>
                <mat-radio-button value="other">Other</mat-radio-button>
            </mat-radio-group>


            <div formGroupName="address">
                <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px" fxLayoutGap.gt-md="50px"
                    fxLayoutAlign="space-around center">
                    <mat-form-field appearance="legacy">
                        <mat-label>Address Line 1</mat-label>
                        <input matInput formControlName="addressLine1" maxlength="40">
                        <mat-error
                            *ngIf="this.registrationForm.controls.address['controls'].addressLine1.hasError('required')">
                            Address
                            Line1 is
                            required</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="legacy">
                        <mat-label>Address Line 2</mat-label>
                        <input matInput formControlName="addressLine2" maxlength="40">
                        <mat-error
                            *ngIf="this.registrationForm.controls.address['controls'].addressLine2.hasError('required')">
                            Address
                            Line2 is
                            required</mat-error>
                    </mat-form-field>
                </div>

                <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px" fxLayoutGap.gt-md="50px"
                    fxLayoutAlign="space-around center">
                    <mat-form-field class="three-col-div" appearance="legacy">
                        <mat-label>City</mat-label>
                        <input matInput formControlName="city" maxlength="40">
                        <mat-error *ngIf="this.registrationForm.controls.address['controls'].city.hasError('required')">
                            City is
                            required</mat-error>
                    </mat-form-field>
                    <mat-form-field class="three-col-div" appearance="legacy">
                        <mat-label>State</mat-label>
                        <input matInput formControlName="state" maxlength="40">
                        <mat-error
                            *ngIf="this.registrationForm.controls.address['controls'].state.hasError('required')">
                            State is
                            required</mat-error>
                    </mat-form-field>
                    <mat-form-field class="three-col-div" appearance="legacy">
                        <mat-label>Pin</mat-label>
                        <input matInput formControlName="pin" maxlength="6">
                        <mat-error *ngIf="this.registrationForm.controls.address['controls'].pin.hasError('required')">
                            Pin is
                            required</mat-error>
                        <mat-error *ngIf="this.registrationForm.controls.address['controls'].pin.hasError('pattern')">
                            Please enter valid pin</mat-error>
                    </mat-form-field>
                </div>
            </div>

            <h5>Guardian Details</h5>
            <div formArrayName="guardianList">
                <div *ngFor="let guardian of guardianList.controls; let i = index" [formGroupName]="i">
                    <h6>Guardian {{i+1}}</h6>

                    <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px"
                        fxLayoutGap.gt-md="50px" fxLayoutAlign="space-around center">
                        <mat-form-field appearance="legacy">
                            <mat-label>Name</mat-label>
                            <input matInput formControlName="name" maxlength="40">
                            <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.name.hasError('required')">
                                Guardian name is required
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="legacy">
                            <mat-label>Relation</mat-label>
                            <input matInput formControlName="relation" maxlength="40">
                            <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.relation.hasError('required')">
                                Relation is required </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px"
                        fxLayoutGap.gt-md="50px" fxLayoutAlign="space-around center">
                        <mat-form-field appearance="legacy">
                            <mat-label>Email</mat-label>
                            <input matInput formControlName="email" maxlength="40">
                            <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.email.hasError('required')">
                                Email is required
                            </mat-error>
                            <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.email.hasError('pattern')">
                                Please enter valid email </mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="legacy">
                            <mat-label>Phone Number</mat-label>
                            <input matInput formControlName="phoneNumber" maxlength="10">
                            <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.phoneNumber.hasError('required')">
                                Phone number
                                is required
                            </mat-error>
                            <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.phoneNumber.hasError('pattern')">
                                Please enter
                                valid phone number
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div formGroupName="address">
                        <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px"
                            fxLayoutGap.gt-md="50px" fxLayoutAlign="space-around center">
                            <mat-form-field appearance="legacy">
                                <mat-label>Address Line 1</mat-label>
                                <input matInput formControlName="addressLine1" maxlength="40">
                                <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.address.controls['addressLine1'].hasError('required')">
                                Address Line1 is required
                            </mat-error>
                            </mat-form-field>
                            <mat-form-field appearance="legacy">
                                <mat-label>Address Line 2</mat-label>
                                <input matInput formControlName="addressLine2" maxlength="40">
                                <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.address.controls['addressLine2'].hasError('required')">
                                Address Line2 is required
                            </mat-error> </mat-form-field>
                        </div>

                        <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px"
                            fxLayoutGap.gt-md="50px" fxLayoutAlign="space-around center">
                            <mat-form-field class="three-col-div" appearance="legacy">
                                <mat-label>City</mat-label>
                                <input matInput formControlName="city" maxlength="40">
                                <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.address.controls['city'].hasError('required')">
                                City is required
                            </mat-error></mat-form-field>
                            <mat-form-field class="three-col-div" appearance="legacy">
                                <mat-label>State</mat-label>
                                <input matInput formControlName="state" maxlength="40">
                                <mat-error
                                *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.address.controls['state'].hasError('required')">
                                State is required
                            </mat-error></mat-form-field>
                            <mat-form-field class="three-col-div" appearance="legacy">
                                <mat-label>Pin</mat-label>
                                <input matInput formControlName="pin" maxlength="6">
                                <mat-error
                                    *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.address.controls['pin'].hasError('required')">
                                    Pin is
                                    required</mat-error>
                                <mat-error
                                    *ngIf="this.registrationForm.controls.guardianList.controls[0].controls.address.controls['pin'].hasError('pattern')">
                                    Please enter valid pin</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>

            <h5>Medical Details</h5>
            <div formGroupName="medicalDetails">
                <div class="row-div" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="10px" fxLayoutGap.gt-md="50px"
                    fxLayoutAlign="space-around center">
                    <mat-form-field>
                        <mat-label>Blood Group</mat-label>
                        <select matNativeControl formControlName="bloodGroup">
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </mat-form-field>
                    <mat-form-field class="three-col-div" appearance="legacy">
                        <mat-label>Height <i>(in cm)</i></mat-label>
                        <input matInput formControlName="height">
                    </mat-form-field>
                    <mat-form-field class="three-col-div" appearance="legacy">
                        <mat-label>Weight <i>(in kg)</i></mat-label>
                        <input matInput formControlName="weight">
                    </mat-form-field>
                </div>

                <h6>Disease:</h6>
                <div formGroupName="disease">
                    <div>
                        <mat-checkbox formControlName="hiv">HIV</mat-checkbox>
                        <mat-checkbox formControlName="fits">Fits</mat-checkbox>
                        <mat-checkbox formControlName="hepatitis">Hepatitis</mat-checkbox>
                        <mat-checkbox formControlName="heartAttack">Heart Attack</mat-checkbox>
                    </div>
                    <div>
                        <mat-checkbox formControlName="rabies">Rabies</mat-checkbox>
                        <mat-checkbox formControlName="tuberculosis">Tuberculosis</mat-checkbox>
                        <mat-checkbox formControlName="hyperTension">Hypertension</mat-checkbox>
                        <mat-checkbox formControlName="diabetes">Diabetes</mat-checkbox>
                    </div>
                    <div>
                        <mat-checkbox formControlName="cancer">Cancer</mat-checkbox>
                        <mat-checkbox formControlName="kidneyDisease">Kidney Disease</mat-checkbox>
                        <mat-checkbox formControlName="liverDisease">Liver Disease</mat-checkbox>
                    </div>
                </div>
                <h6>Organs:</h6>
                <div formGroupName="organs">

                    <div>
                        <mat-checkbox formControlName="cornea">Cornea</mat-checkbox>
                        <mat-checkbox formControlName="blood">Blood</mat-checkbox>
                        <mat-checkbox formControlName="liver">Liver</mat-checkbox>
                        <mat-checkbox formControlName="heart">Heart</mat-checkbox>
                    </div>
                    <div>
                        <mat-checkbox formControlName="kidney">Kidney</mat-checkbox>
                        <mat-checkbox formControlName="platelet">Platelet</mat-checkbox>
                        <mat-checkbox formControlName="lungs">Lungs</mat-checkbox>
                        <mat-checkbox formControlName="boneMarrow">Bone Marrow</mat-checkbox>
                    </div>
                </div>
            </div>
        </div>

        <button class="submit-button" mat-button type="submit">Register</button>
    </form>
</mat-card>